
<template name="main">
  <header>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no"/>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <title>Western Cape Social Audit</title>
  </header>


  <body>
    {{> header}}
    {{> yield}}
    {{> modal}}
    {{> footer}}
  </body>

</template>


<template name="header">
  <nav>
    {{#if shouldShowSideNav}}
      {{> sideNav}}
    {{/if}}
    {{> title}}
    <ul class="right hide-on-med-and-down" style='padding-right:30px'>
      {{#if userIsInRole 'admin'}}
        <li><a href="/schools">Schools</a></li>
        <li><a href="/users">Users</a></li>
      {{/if}}
        <li><a href="/audits">Audits</a></li>
        <li>{{> loginButtons align="right"}}</li>
    </ul>

      </nav>
    {{> flashMessages}}
</template>


<template name="footer">
  <footer class="page-footer">
    <div class="footer-copyright">
      <div class="container">
      Â© 2014 Copyright Text
      <a class="grey-text text-lighten-4 right" href="#!">More Links</a>
      </div>
    </div>
  </footer>
</template>

<template name="sideNav">
      <ul id="slide-out" class="side-nav collapsible black-text" data-collapsible="accordion">
        {{#each this.audit.forms}}
          <li>
            <div class="collapsible-header">{{this.display_name}}</div>

            <div class="collapsible-body">
              <ul>
                {{#each this.sections}}
                    {{#each this.sub_sections}}
                      <li><a class='changeIndex'>{{this.display_name}}<i {{shouldShow this.hasChanges}} class="green-text material-icons">done</i></a></li>
                    {{/each}}
                {{/each}}
              </ul>
            </div>
          </li>
        {{/each}}
        <li><a class="btn modal-trigger" href="#modal1">Add another form</a></li>
      </ul>
      <a href="#" data-activates="slide-out" class="button-collapse show-on-large"><i class="mdi-navigation-menu"></i></a>

</template>

<template name="modal">
  <!-- Modal Structure -->
   <div id="modal1" class="modal">
     <div class="modal-content black-text">
       <h4>Add another form</h4>
       <form id="addForms">
         <div class="row">
           <div class="input-field col s6">
             <p>How many Form B's would you like to Add?</p>
           </div>
           <div class="input-field col s3">
             <input id='numberOfFormBs' type="text" class="validate">
           </div>
         </div>
      </form>
     </div>
     <div class="modal-footer">
       <a class=" modal-action modal-save btn-flat">Okay</a>
       <a class=" modal-action modal-close btn-flat">Cancel</a>
     </div>
   </div>
</template>


<template name="title">
  <a class="brand-logo center">{{currentSchoolName}}</a>
</template>
